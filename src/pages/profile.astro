---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Profile" description="Your covers.cafe profile">
  <h1 class="section-title">
    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="8" r="5"/><path d="M20 21a8 8 0 1 0-16 0"/></svg>
    Profile
  </h1>

  <div class="card profile-card">
    <div class="profile-header">
      <div class="profile-avatar">
        <svg xmlns="http://www.w3.org/2000/svg" width="42" height="42" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" style="opacity:0.4"><circle cx="12" cy="8" r="5"/><path d="M20 21a8 8 0 1 0-16 0"/></svg>
      </div>
      <div class="profile-info">
        <h2 class="profile-name">Guest User</h2>
        <p class="profile-joined">Sign in to view your profile</p>
      </div>
      <a href="/profile/edit" class="btn btn-secondary profile-edit-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19.4 7.34 16.66 4.6A2 2 0 0 0 14 4.53l-9 9a2 2 0 0 0-.57 1.21L4 18.91a1 1 0 0 0 1 1.1h.09l4.17-.38a2 2 0 0 0 1.21-.57l9-9a1.98 1.98 0 0 0 .53-1.72z"/><path d="m14.5 6.5 3 3"/></svg>
        Edit Profile
      </a>
    </div>

    <hr class="divider" />

    <div class="profile-stats">
      <div class="profile-stat">
        <span class="profile-stat-value">0</span>
        <span class="profile-stat-label">Uploads</span>
      </div>
      <div class="profile-stat-divider"></div>
      <div class="profile-stat">
        <span class="profile-stat-value">0</span>
        <span class="profile-stat-label">Favorites</span>
      </div>
      <div class="profile-stat-divider"></div>
      <div class="profile-stat">
        <span class="profile-stat-value">0</span>
        <span class="profile-stat-label">Downloads</span>
      </div>
    </div>

    <hr class="divider" />

    <div class="profile-not-signed-in">
      <p class="text-muted text-sm">Sign in to access your full profile and upload history.</p>
      <div style="display:flex;gap:10px;margin-top:14px">
        <a href="/login" class="btn btn-primary">Sign In</a>
        <a href="/register" class="btn btn-secondary">Create Account</a>
      </div>
    </div>
  </div>
</Layout>

<style>
  .profile-card { max-width: 560px; }

  .profile-header {
    display: flex;
    align-items: center;
    gap: 18px;
  }

  .profile-avatar {
    width: 72px;
    height: 72px;
    border-radius: 50%;
    background: linear-gradient(145deg, var(--sidebar-bg-light), var(--sidebar-bg-dark));
    border: 3px solid var(--body-card-border);
    box-shadow: var(--shadow-md), inset 0 1px 0 rgba(255,255,255,0.2);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    color: var(--body-text-muted);
  }

  .profile-info { flex: 1; min-width: 0; }

  .profile-name {
    font-size: 20px;
    font-weight: bold;
    color: var(--body-text);
    text-shadow: 0 1px 0 rgba(255,255,255,0.4);
  }

  [data-theme="dark"] .profile-name { text-shadow: none; }

  .profile-joined {
    font-size: 12px;
    color: var(--body-text-muted);
    margin-top: 2px;
  }

  .profile-edit-btn { flex-shrink: 0; }

  /* Stats */
  .profile-stats {
    display: flex;
    align-items: center;
    gap: 0;
  }

  .profile-stat {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 3px;
  }

  .profile-stat-value {
    font-size: 24px;
    font-weight: bold;
    color: var(--body-text);
    text-shadow: 0 1px 0 rgba(255,255,255,0.4);
  }

  [data-theme="dark"] .profile-stat-value { text-shadow: none; }

  .profile-stat-label {
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.8px;
    color: var(--body-text-muted);
    font-weight: bold;
  }

  .profile-stat-divider {
    width: 1px;
    height: 40px;
    background: var(--body-border);
  }

  .profile-not-signed-in { padding-top: 4px; }
</style>
